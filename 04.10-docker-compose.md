#Autor: Fagner Geraldes Braga  
#Data de criação: 03/01/2025  
#Data de atualização: 03/01/2025  
#Versão: 0.01

## Docker Compose

### Nginx Básico
### Compose01.yaml
[compose01](compose/compose01.yaml)
```docker
# Navega até o diretório onde o arquivo compose01.yaml está localizado
cd ~/devops/compose/

# Sobe os serviços definidos no arquivo compose01.yaml em modo "detached" (em segundo plano)
docker compose -f compose01.yaml up -d

# Lista todos os containers em execução para verificar os serviços ativos
docker container ls

# Para todos os serviços definidos no arquivo compose01.yaml
docker compose stop

# Reinicia os serviços definidos no arquivo compose01.yaml que foram previamente parados
docker compose start

# Remove todos os containers, redes e volumes criados pelos serviços definidos no arquivo compose01.yaml
docker compose -f compose01.yaml down
```
### CMD
### Compose02.yaml
[compose02](compose/compose02.yaml)
```docker
# Navega até o diretório onde o arquivo compose02.yaml está localizado
cd ~/devops/compose/

# Sobe os serviços definidos no arquivo compose02.yaml em modo "detached" (em segundo plano)
docker compose -f compose02.yaml up -d

# Lista todos os containers (ativos e inativos) para verificar o status dos serviços
docker container ls -a

# Para e remove todos os containers, redes e volumes criados pelos serviços definidos no arquivo compose02.yaml
docker compose -f compose02.yaml down
```

### 2 containers Nginx
### Compose03.yaml
[compose03](compose/compose03.yaml)
```docker
# Navega até o diretório onde o arquivo compose03.yaml está localizado
cd ~/devops/compose/

# Sobe os serviços definidos no arquivo compose03.yaml em modo "detached" (em segundo plano)
docker compose -f compose03.yaml up -d

# Lista os containers ativos para verificar o status dos serviços
docker container ls

# Para e remove todos os containers, redes e volumes criados pelos serviços definidos no arquivo compose03.yaml
docker compose -f compose03.yaml down
```

### Variáveis de ambiente
### Compose04.yaml
[compose04](compose/compose04.yaml)
```docker
# Navega até o diretório onde o arquivo compose04.yaml está localizado
cd ~/devops/compose/

# Sobe os serviços definidos no arquivo compose04.yaml em modo "detached" (em segundo plano)
docker compose -f compose04.yaml up -d

# Lista os containers ativos para verificar o status dos serviços
docker container ls

# Para e remove todos os containers, redes e volumes criados pelos serviços definidos no arquivo compose04.yaml
docker compose -f compose04.yaml down
```
### Bind Mount
### Compose05.yaml
[compose05](compose/compose05.yaml)
```docker
# Navega até o diretório onde o arquivo compose05.yaml está localizado
cd ~/devops/compose/

# Sobe os serviços definidos no arquivo compose05.yaml em modo "detached" (em segundo plano)
docker compose -f compose05.yaml up -d

# Lista os containers ativos para verificar o status dos serviços
docker container ls

# Para e remove todos os containers, redes e volumes criados pelos serviços definidos no arquivo compose05.yaml
docker compose -f compose05.yaml down
```
### Volume
### Compose06.yaml
[compose06](compose/compose06.yaml)
```docker
# Navega até o diretório onde o arquivo compose06.yaml está localizado
cd ~/devops/compose/

# Sobe os serviços definidos no arquivo compose06.yaml em modo "detached" (em segundo plano)
docker compose -f compose06.yaml up -d

# Lista os containers ativos para verificar o status dos serviços
docker container ls

# Lista todos os volumes existentes no Docker
docker volume ls

# Exibe os detalhes do container chamado "fgb-postgre",
# incluindo informações sobre volumes, redes, configurações de ambiente e muito mais.
docker container inspect fgb-postgre

# Inspeciona um volume específico chamado "my_postgre_vol"
# e mostra informações detalhadas, como o ponto de montagem e o driver utilizado.
docker volume inspect my_postgre_vol

# Para e remove todos os containers, redes e volumes criados pelos serviços definidos no arquivo compose06.yaml
docker compose -f compose06.yaml down
```
```docker
# Remove todos os volumes listados pelo comando `docker volume ls -q`.
# O `-q` exibe apenas os IDs dos volumes, e o `-f` força a remoção.
docker volume rm -f $(docker volume ls -q)

# Remove todos os volumes que não estão mais em uso por containers.
# Isso ajuda a liberar espaço, eliminando volumes órfãos.
docker volume prune
```

### Volume Externo
### Compose07.yaml
[compose07](compose/compose07.yaml)
```docker
# Navega até o diretório onde o arquivo compose07.yaml está localizado
cd ~/devops/compose/

# Cria um volume
docker volume create my_external_volume

# Sobe os serviços definidos no arquivo compose07.yaml em modo "detached" (em segundo plano)
docker compose -f compose07.yaml up -d

# Lista os containers ativos para verificar o status dos serviços
docker container ls

# Lista todos os volumes existentes no Docker, exibindo seus nomes e outros detalhes básicos.
docker volume ls

# Inspeciona o container chamado "fgb-postgre" para exibir informações detalhadas, incluindo os volumes montados no container.
docker container inspect fgb-postgre

# Inspeciona o volume chamado "my_external_volume" para exibir detalhes como ponto de montagem, driver, e se está sendo usado por algum container.
docker volume inspect my_external_volume

# Para e remove todos os containers, redes e volumes criados pelos serviços definidos no arquivo compose07.yaml
docker compose -f compose07.yaml down
```
```docker
# Remove todos os volumes listados pelo comando `docker volume ls -q`.
# O `-q` exibe apenas os IDs dos volumes, e o `-f` força a remoção.
docker volume rm -f $(docker volume ls -q)

# Remove todos os volumes que não estão mais em uso por containers.
# Isso ajuda a liberar espaço, eliminando volumes órfãos.
docker volume prune
```

### Rede Bridge
### Compose08.yaml
[compose08](compose/compose08.yaml)
```docker
# Navega até o diretório onde o arquivo compose08.yaml está localizado
cd ~/devops/compose/

# Sobe os serviços definidos no arquivo compose08.yaml em modo "detached" (em segundo plano)
docker compose -f compose08.yaml up -d

# Lista todas as redes disponíveis no Docker, incluindo o nome, driver e ID.
docker network ls

# Inspeciona a rede chamada "knews_network" para exibir informações detalhadas,
# como os containers conectados a ela, o driver usado e as configurações de IP.
docker network inspect knews_network

# Para e remove todos os containers, redes e volumes criados pelos serviços definidos no arquivo compose08.yaml
docker compose -f compose08.yaml down
```
```docker
docker network prune
```
### Subindo containers postgre e da aplicação na mesma rede bridge
### Compose09.yaml
[compose09](compose/compose09.yaml)
```docker
# Navega até o diretório onde o arquivo compose09.yaml está localizado
cd ~/devops/compose/

# Sobe os serviços definidos no arquivo compose09.yaml em modo "detached" (em segundo plano)
docker compose -f compose09.yaml up -d

# Para e remove todos os containers, redes e volumes criados pelos serviços definidos no arquivo compose09.yaml
docker compose -f compose09.yaml down
```
```docker
# Remove todas as imagens do Docker, forçando a exclusão mesmo se estiverem sendo usadas por containers.
docker image rm -f $(docker image ls -qa)

# Remove imagens não utilizadas para liberar espaço no sistema.
docker image prune

# Remove todos os volumes Docker listados, limpando dados associados.
docker volume rm $(docker volume ls -q)

# Remove volumes não utilizados para liberar espaço.
docker volume prune

# Remove redes Docker que não estão em uso.
docker network prune

# Remove todos os dados de build do Docker para limpar cache de compilação e outros artefatos.
docker builder prune -a
```

